<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>Notd*</title>
    <link rel="stylesheet" href="src/styles.css" />
    <link rel="stylesheet" href="src/edit.css" />
</head>

<body>
    <div id="header">
        <div id="header-top">
            <div id="header-buttons">
                <button id="ai-enter-btn">ENTER</button>
                <button id="save-btn-header">SAVE</button>
                <button id="edit-btn">EDIT</button>
                <input type="file" id="load-file" accept=".json" style="display: none" />
            </div>
            <div id="header-title">NOTD*</div>
        </div>
        <div id="search-container">
            <input type="text" id="search-input" placeholder="Search entries..."
                style="width: 120px !important; max-width: 120px !important;" />
            <button id="search-clear">Clear</button>
            <button id="copy-btn">COPY</button>
            <button id="ai-analyze-btn">AI</button>
            <span id="search-results"></span>

        </div>
        <!--     -->
        <div id="content">
            <div id="welcome-message" style="padding: 40px; text-align: center; color: #aaa">
                <pre id="welcome-title"
                    style="font-family: monospace; font-size: 14px; line-height: 1.3; color: #666; margin: 0;">▗▖  ▗▖ ▗▄▖▗▄▄▄▖▗▄▄▄ 
▐▛▚▖▐▌▐▌ ▐▌ █  ▐▌  █
▐▌ ▝▜▌▐▌ ▐▌ █  ▐▌  █
▐▌  ▐▌▝▚▄▞▘ █  ▐▙▄▄▀</pre>
            </div>

            <!-- VERSION HERE! -->

            <div id="entries-container"></div>
            <div id="footer">
                <div class="footer-line">
                    <a href="#" id="notd-toggle-link"
                        style="color: #FF5100; text-decoration: none; font-size: 11px">NOTD*</a>
                    <span style="color: #888; font-size: 11px">&nbsp;&nbsp;2.7.1</span>
                    <span style="margin: 0 5px; color: #888">·</span>
                    <a href="#" id="api-settings-link"
                        style="color: #888; text-decoration: none; font-size: 11px">API</a>
                    <span style="color: #888; font-size: 11px">&nbsp;&nbsp;</span>
                </div>
                <div class="footer-line">
                    <span style="color: #888; font-size: 11px">&nbsp;&nbsp;</span>
                    <select id="model-selector"
                        style="background-color: #555; color: white; border: 1px solid #777; padding: 2px 6px; font-family: monospace; font-size: 11px; cursor: pointer;">
                        <option value="llama-3.3-70b-versatile">Loading models...</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Floating form overlay -->
        <div id="form-overlay"></div>

        <!-- AI Analysis Result Modal -->
        <div id="ai-analysis-modal"
            style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background-color: #444; padding: 20px; border: 1px solid #666; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5); z-index: 1001; min-width: 400px; max-width: 600px; max-height: 80vh; overflow-y: auto;">
            <h2 style="color: #FF5100; font-size: 18px; margin-top: 0; margin-bottom: 15px;">
                AI Analysis Results
                <span id="ai-model-display"
                    style="color: #888; font-size: 12px; font-weight: normal; margin-left: 10px;"></span>
            </h2>
            <div id="ai-analysis-content"
                style="background-color: #3a3a3a; padding: 15px; border: 1px solid #555; border-radius: 4px; white-space: pre-wrap; line-height: 1.6;">
            </div>
            <button id="ai-analysis-close"
                style="margin-top: 15px; background-color: #555; color: white; border: 1px solid #777; padding: 6px 14px; cursor: pointer; font-family: monospace; font-size: 13px; height: 32px;">CLOSE</button>
        </div>

        <!-- AI Entry Form -->
        <div id="ai-entry-form" style="display: none">
            <div class="form-group">
                <label for="ai-date-input">Date:</label>
                <input type="text" id="ai-date-input" readonly />
            </div>
            <div class="form-group">
                <label for="ai-time-input">Time:</label>
                <input type="text" id="ai-time-input" readonly />
            </div>
            <div class="form-group">
                <label for="ai-text-input">Text:</label>
                <textarea id="ai-text-input"
                    placeholder="Describe your entry in natural language...&#10;e.g., 'Had coffee at Starbucks downtown, discussed the new project with Sarah'"
                    style="
                        width: 100%;
                        max-width: 400px;
                        height: 80px;
                        background-color: #555;
                        color: white;
                        border: 1px solid #777;
                        padding: 8px;
                        font-family: monospace;
                        font-size: 14px;
                        resize: vertical;
                    "></textarea>
            </div>
            <div style="
                    margin-top: 10px;
                    display: flex;
                    gap: 10px;
                    flex-wrap: wrap;
                ">
                <button id="ai-process-btn" style="
                        background-color: #555;
                        color: white;
                        border: 1px solid #777;
                        padding: 6px 14px;
                        cursor: pointer;
                        font-family: monospace;
                        font-size: 13px;
                        height: 32px;
                    ">
                    PROCESS
                </button>
                <button id="ai-save-btn" style="
                        display: none;
                        background-color: #FF5100;
                        color: white;
                        border: 1px solid #FF5100;
                        padding: 6px 14px;
                        cursor: pointer;
                        font-family: monospace;
                        font-size: 13px;
                        height: 32px;
                    ">
                    SAVE
                </button>
            </div>
            <div id="ai-preview" style="
                    display: none;
                    margin-top: 15px;
                    padding: 10px;
                    background-color: #3a3a3a;
                    border: 1px solid #555;
                    border-radius: 4px;
                "></div>
        </div>

        <script src="src/edit.js"></script>
        <script src="src/llm.js"></script>
        <script src="src/swipe-delete.js"></script>
        <script src="src/diary.js?t=20250126f"></script>
</body>

</html>